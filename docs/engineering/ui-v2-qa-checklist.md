# UI v2 验收清单（QA Checklist）

> 用途：作为“最高标准”的统一验收口径。适用于自测、联调验收、演示走查、上线门禁。  
> 本清单与 `docs/engineering/ui-v2-spec.md` 保持一致。

## 0. 全局 P0 门禁（必须全过）

- **0 白屏**：任何异常都必须进入可见状态（Loading/Error/Empty/Permission/Audit/兜底页）
- **0 禁用词**：用户可见区域不得出现 `P0/演示/Mock/undefined/HTTP xxx/堆栈`
- **0 Token 硬编码**：除白名单外不得出现颜色/字号/间距/圆角/阴影硬编码
- **0 无效请求参数**：抓包中不得出现 `q=undefined`、`null`、空字段污染
- **0 无动作反馈**：任何点击必须有反馈（hover/active/loading/toast）

## 1. 视觉一致性（P0）

- 标题层级：只用规范的 `display/hero/title/body/caption`，不出现“全加粗大字”
- 卡片与容器：圆角、边框、背景一致；同屏不混乱
- 标签：Tag/Chip 的色彩与语义一致（不可用颜色表达不同含义）
- 吸底：StickyBar 统一高度、背景、边框与 safe-area；桌面宽度对齐容器

## 2. 交互一致性（P0）

- 触控热区：等效 ≥ 44px
- 列表：整行可点；active 态一致；加载/切换不闪烁
- 表单：输入焦点/清空/提交/回车行为一致；提交中防重复
- 弹层：Popup/Dialog 关闭规则一致（右上角/遮罩点击/返回键）

## 3. 状态机覆盖（P0）

每页必须明确以下状态是否适用，并在适用时具备完整表现：

- `loading`：首屏/切换筛选/刷新时出现（骨架或 LoadingCard）
- `empty`：成功但无数据，必须给下一步动作（刷新/去搜索/去发布/去登录）
- `error`：失败，必须可重试；错误文案用户可理解
- `permission`：需要登录/身份选择时的引导页
- `audit`：审核中/驳回/未提交时的引导页

## 4. 导航与路由（P0）

- Tab 页必须 `switchTab`；非 Tab 页必须 `navigateTo`
- 所有 `?xxxId` 缺参可自恢复（ErrorCard + 返回）
- 深链可用：从 H5 hash 直接打开页面能正常展示/引导下一步
- 返回策略清晰：不会出现“返回到空白页/错误页”

## 5. 文案与信息架构（P0）

- 文案不出现技术词；提示语短、可行动
- 空态必须告诉用户“下一步做什么”
- 错误态必须告诉用户“怎么恢复”
- 同一概念同一术语（收藏/咨询/订金/尾款/认证/审核）

## 6. 性能体验（P1）

- 列表首屏：骨架出现 < 200ms（等效）
- 列表滚动：无明显卡顿；大列表需虚拟化策略（阈值明确）
- 图片：有默认占位与失败兜底
- 请求：筛选/搜索切换时不出现“回跳旧结果”（需取消/丢弃过期请求）

## 7. 可访问性（P1）

- 对比度达标（尤其主色按钮与白字）
- H5 支持键盘操作：输入回车触发搜索/发送；focus-visible 清晰
- 文本：可换行、可截断（clamp），不出现溢出破版

## 8. 模板专项验收点（按 UI v2 模板）

### 模板 A（Tab Landing）

- 顶部区块（品牌/说明）高度与层级稳定
- 入口网格点击与视觉一致
- Tab 内跳转不闪屏、返回不迷路

### 模板 B（List + Filter）

- 筛选区：默认值、清空、应用、关闭交互一致
- 列表：loading/empty/error 三态切换不抖动

### 模板 C（Detail + Sticky CTA）

- 首屏信息层级清晰：标题/关键字段/CTA
- StickyBar：主次按钮规则一致；safe-area 正确

### 模板 D（Form/Wizard）

- 分段与步骤清晰；校验错误可解释
- 提交成功/失败有明确反馈；离开页面有“未保存”提醒策略（如启用）

### 模板 E（Payment）

- 金额摘要清晰；规则说明可扫读
- H5/桌面端有明确支付指引（P1）

### 模板 F（Chat）

- 权限未满足时不可发送
- 消息列表与输入条不遮挡；长会话滚动正确

### 模板 G（Policy）

- 分节标题清晰；要点列表可扫读

